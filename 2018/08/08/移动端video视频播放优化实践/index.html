<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.4.0 -->
    <script>window.materialVersion = "1.4.0"</script>

    <!-- Title -->
    
    <title>
        
            移动端video视频播放优化实践 | 
        
        爱尚|轻博客
    </title>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    
    
    
    
    
    
    
    
    
    

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="AppleSun">
    <meta name="description" itemprop="description" content="遇到的挑战移动端HTML5使用原生&amp;lt;video&amp;gt;标签播放视频，要做到两个基本原则，速度快和体验佳，先来分析一下这两个问题。
下载速度以一个8s短视频为例，wifi环境下提供的高清视频达到1000kbps，文件大小大约1MB；非wifi环境下提供的低码率视频是500kbps左右，文件大小大约500KB；参考QzoneTouch多普勒测速，2g网络的平均速度是14KB/s，那么下载一个低码率视频耗时35s；那么要想流畅播放视频，就需要一个加载等待的过程，这个过程要有明确的反馈，不能让用户有“坏掉了”的感觉。">
    <meta name="keywords" content="null,html5">

    <!-- Site Verification -->
    
    

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="爱尚|轻博客">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="https://crackerme.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="移动端video视频播放优化实践 | 爱尚|轻博客">
    <meta property="og:image" content="/img/favicon.png" />
    <meta property="og:description" content="遇到的挑战移动端HTML5使用原生&amp;lt;video&amp;gt;标签播放视频，要做到两个基本原则，速度快和体验佳，先来分析一下这两个问题。
下载速度以一个8s短视频为例，wifi环境下提供的高清视频达到1000kbps，文件大小大约1MB；非wifi环境下提供的低码率视频是500kbps左右，文件大小大约500KB；参考QzoneTouch多普勒测速，2g网络的平均速度是14KB/s，那么下载一个低码率视频耗时35s；那么要想流畅播放视频，就需要一个加载等待的过程，这个过程要有明确的反馈，不能让用户有“坏掉了”的感觉。">
    <meta property="og:article:tag" content="html5"> 

    
        <meta property="article:published_time" content="8月 08, 2018" />
        <meta property="article:modified_time" content="9月 21, 2018" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="移动端video视频播放优化实践 | 爱尚|轻博客">
    <meta name="twitter:description" content="遇到的挑战移动端HTML5使用原生&amp;lt;video&amp;gt;标签播放视频，要做到两个基本原则，速度快和体验佳，先来分析一下这两个问题。
下载速度以一个8s短视频为例，wifi环境下提供的高清视频达到1000kbps，文件大小大约1MB；非wifi环境下提供的低码率视频是500kbps左右，文件大小大约500KB；参考QzoneTouch多普勒测速，2g网络的平均速度是14KB/s，那么下载一个低码率视频耗时35s；那么要想流畅播放视频，就需要一个加载等待的过程，这个过程要有明确的反馈，不能让用户有“坏掉了”的感觉。">
    <meta name="twitter:image" content="/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://crackerme.github.io" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="https://crackerme.github.io/2018/08/08/移动端video视频播放优化实践/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "爱尚|轻博客",
        "logo": "/img/favicon.png"
    },
    "author": {
        "@type": "Person",
        "name": "AppleSun",
        "image": {
            "@type": "ImageObject",
            "url": "/img/favicon.png"
        },
        "description": "间歇性凌云壮志，持续性混吃等死"
    },
    "headline": "移动端video视频播放优化实践",
    "url": "https://crackerme.github.io/2018/08/08/移动端video视频播放优化实践/index.html",
    "datePublished": "8月 08, 2018",
    "dateModified": "9月 21, 2018",
    "description": "遇到的挑战移动端HTML5使用原生&amp;lt;video&amp;gt;标签播放视频，要做到两个基本原则，速度快和体验佳，先来分析一下这两个问题。
下载速度以一个8s短视频为例，wifi环境下提供的高清视频达到1000kbps，文件大小大约1MB；非wifi环境下提供的低码率视频是500kbps左右，文件大小大约500KB；参考QzoneTouch多普勒测速，2g网络的平均速度是14KB/s，那么下载一个低码率视频耗时35s；那么要想流畅播放视频，就需要一个加载等待的过程，这个过程要有明确的反馈，不能让用户有“坏掉了”的感觉。",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://crackerme.github.io"
    }
}
</script>


    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+materialVersion+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(data&&data.indexOf(versionString)===-1){lsloader.removeLS(key)}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload){cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload);return}code=code.split(versionString)[1];if(/\.js?.+$/.test(versionNumber)){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload)}};lsloader.requestResource=function(name,path,cssonload){var that=this;if(/\.js?.+$/.test(path)){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else if(/\.css?.+$/.test(path)){this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import CSS & jQuery -->
    
        <style id="css/material.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/material.min.css","/css/material.min.css?5NJL1sdpBtsc9zuAD6Ib0w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        <style id="css/style.min.css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("css/style.min.css","/css/style.min.css?iYh+4WgapXJebF80bSbyfA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";})</script>
        
        
            <style>
    
    
    .footer-sns-twitter {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNiA3OGMtMjIuNCA1LjItNTUuOCA0MC4yLTYwLjYgNjMuNC0xLjQgNi40LTIgMTI5LjgtMS42IDM2Ny42LjYgMjk4LjYgMSAzNTguOCAzLjQgMzYzIDExIDIwLjIgMjEuNiAzMi40IDM3LjIgNDMgMTUgMTAuMiAxNy40IDExLjIgMzMgMTMgMTEuMiAxLjQgMTM2IDIgMzY1IDEuNiAzMTQtLjYgMzQ4LjYtMSAzNTUtMy44IDE1LjgtNy4yIDMzLjgtMjIgNDMuMi0zNS40IDUuMi03LjQgMTAuOC0xNi42IDEyLjYtMjAuNCAyLjgtNi40IDMuMi00MC44IDMuOC0zNTQgLjQtMjIzLS4yLTM1My40LTEuNC0zNjUtMi0xNy0yLjYtMTguNi0xMy0zNC04LjYtMTIuNi0xNC4yLTE4LjQtMjUuMi0yNS44LTcuOC01LjQtMTcuNC0xMS0yMS42LTEyLjQtNi0yLjItNzIuOC0yLjYtMzY1LjQtMi42LTE5Ni44LjItMzYxIC44LTM2NC40IDEuOHptNTMyLjggMjA1YzEwIDQgMjMgMTAuOCAyOC44IDE1LjIgMTIuNiA5LjIgMTYuNiAxMC42IDI5LjQgOS40IDYuNi0uNiAxMy0zLjIgMjAuNC04LjIgMTEuMi03LjYgMTkuNC05LjIgMjMuNi01IDMuNiAzLjYgMi44IDktMi44IDE4LjYtNy4yIDEyLjQtNiAxOC44IDQuMiAyNC4yIDQuNCAyLjIgOC4yIDUuNiA4LjYgNy40IDEgNC44LTEyLjYgMjQuMi0yMiAzMS44LTExLjggOS4yLTE3LjIgMjIuNi0xOS42IDQ3LjgtNC44IDUwLjQtNy44IDY2LjYtMTYuNCA4NS40LTMgNy03IDE3LjgtOC44IDI0LTEuOCA2LjQtNSAxNC42LTcuNCAxOC40LTIuMiAzLjgtNy40IDEzLTExLjQgMjAuNC0xNy4yIDMwLjgtNDMuNCA2MS40LTcxLjQgODMuOC0yNS42IDIwLjQtNDYgMzMuMi02NC4yIDQwLjItOC40IDMuMi0xOCA3LjYtMjEuNCA5LjYtNy40IDQuNi0yMi40IDguNi01Ny4yIDE1LTYyLjIgMTEuNi03OS4yIDExLjQtMTM1LjYtMS0zMi40LTctMzguNi05LTUyLTE2LjgtMjEuNC0xMi42LTI0LjItMTQuOC0yNC4yLTE5LjQgMC02LjIgMTAuMi05LjIgMzUtMTAuNCAyMi40LTEgMjguNi0yLjYgNTctMTQuMiAyMy44LTkuOCAyOS40LTEyLjggMzAuNC0xNi44IDIuMi04LjItMy0xMy4yLTI2LjgtMjUuNC0yNS44LTEzLjItMzIuMi0xOC40LTQzLjgtMzUuOC05LTEzLjYtMTAtMjEuMi0zLjYtMzMuNiA1LjQtMTAuOCAzLjYtMTUtMTEuOC0yNS40LTktNi0xNC0xMS42LTIwLjgtMjIuNi0yMy40LTM3LjgtMjUtNTAuOC03LjItNTkuOCA0LjgtMi40IDkuNC01LjQgMTAuMi02LjYgMi44LTQuMi0uNC0xNS42LTguNC0yOS0xMS42LTE5LjYtMTMuMi0yNS44LTEzLjItNTUuMiAwLTI4LjggMi42LTM3LjggMTItNDAuMiA5LTIuMiAxNC44IDEgMzUuNiAyMC4yIDI0LjggMjIuOCA0My42IDM2LjYgNjIuOCA0NS44IDggMy44IDE3LjggOS4yIDIyIDEyIDQuMiAyLjggMTQuOCA3IDIzLjQgOS4yIDguNiAyLjIgMjQuMiA2LjggMzQuOCAxMC4yIDEzLjQgNC40IDIzLjYgNi40IDMzIDYuNiAxMi44LjIgMTQuMi0uMiAxOC42LTUuNCA0LTQuOCA0LjgtNy44IDQuOC0xOS4yIDAtMTQuNCA1LjYtMzkuNiAxMS4yLTUwLjYgNC4yLTguNCAyOS4yLTM0LjIgMzkuOC00MS40IDcuOC01LjQgMzUuNi0xNiA1Mi0yMCAxNC4yLTMuNiAzMi42LTEuMiA1Mi40IDYuOHoiLz48L3N2Zz4=);
    }
    
    
    
    .footer-sns-weibo {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzUuMiA3OWMtOC42IDMtMjIuOCAxMi40LTMyLjggMjEuOC04LjIgNy44LTIyLjIgMzEtMjQuNiA0MC42LTEgNC4yLTEuNiAxNjctMS42IDM2NC42IDAgMjg0LjguNCAzNTguNCAyLjYgMzY0IDEuNCAzLjggNi44IDEzIDEyIDIwLjQgOC44IDEyLjggMjQgMjUuNCA0MS44IDM1IDYgMy40IDI3IDMuNiAzNjcuNCAzLjYgMjg2LjIgMCAzNjIuNi0uNiAzNjktMi42IDE5LjgtNi4yIDUxLjItMzcuNiA1Ny40LTU3LjQgMi02LjQgMi42LTgyLjYgMi42LTM2OFYxNDFsLTQuMi05Yy0xMS42LTI0LTM5LjItNDkuOC01OC4yLTU0LjItNC4yLTEtMTY4LjYtMS42LTM2NS42LTEuNi0zMDAgMC0zNTkuMi40LTM2NS44IDIuOHptNTU4LjYgMTY5YzguNiAxLjIgMTYuNCA0IDI0IDguNiA2LjIgMy42IDE1LjIgOC4yIDIwLjIgMTAuMiA1LjggMi4yIDE0LjYgOC44IDI1IDE4LjggMjUuNCAyNC44IDMyLjggMzQuOCAzNy44IDUxIDIuNiA4IDcuNCAxOS44IDEwLjggMjYuNCA3LjggMTQuNiAxMS42IDQyLjYgOS40IDY5LTEgMTQuMi0yLjIgMTguNi03LjQgMjYuNC0zLjIgNS4yLTkgMTIuMi0xMi44IDE1LjYtMTMuOCAxMi0zNCA1LjgtMzguOC0xMi0xLjYtNi0xLjQtMTEuNCAxLjItMjMuNCA0LjItMjAgMy00Ni0yLjYtNTguNi0yLjItNS04LTEyLjYtMTIuOC0xNi44LTQuOC00LjItMTQuNi0xNi40LTIxLjgtMjYuOC03LjItMTAuNi0xNS4yLTIwLjgtMTgtMjIuOC0yLjgtMi0xMi42LTYtMjItOS0xNC40LTQuNC0yMC44LTUuNC00My01LjYtMjgtLjItMzEuNC0xLjItNDIuNC0xMS42LTcuNC03LTguNi0xNS42LTMuOC0yNS4yIDctMTMuMiAxNi40LTE2IDU0LjItMTYgMTYuNiAwIDM1LjguOCA0Mi44IDEuOHptLTIxMy42IDc1LjZjMjAuMiAxNS40IDIwLjYgMTYuNCAyMiA0OCAuNiAxNSAxLjggMjkgMi42IDMxIDIuOCA2LjIgMTEgNi42IDIxLjYuNiA1LjQtMy4yIDE0LTUuOCAyMC02LjQgNS44LS42IDE4LjgtMi40IDI5LTQuMiAxNy4yLTMgMTkuNC0zIDM2IC40IDMyIDYuNiAzNS44IDkuMiA0NC4yIDMxLjYgNS4yIDE0IDUuNCAyMS40IDEuMiAzMi44LTIuMiA1LjQtMi44IDExLTIgMTUuNCAxLjggMTAgMTcuNiAyMy40IDM1IDMwLjIgMTEuMiA0LjIgMTYuMiA3LjYgMjcgMTkgMTkuMiAxOS44IDIwLjIgMjMgMjAgNTktLjIgMzUtLjQgMzUuNC0xOS44IDYzLjYtMTMuOCAxOS44LTMyLjQgMzguNi00OSA1MC01IDMuNC0xMi4yIDguOC0xNS44IDEyLTMuOCAzLjItMTEuNiA4LTE3LjIgMTAuNC01LjYgMi42LTE0LjYgNy40LTE5LjggMTAuNi01LjIgMy40LTE1LjggNy42LTIzLjggOS40LTggMi0yMS4yIDYuNi0yOS42IDEwLjItMjIuNCAxMC0zNi4yIDExLjItMTIxLjggMTAuNGwtNzUtLjYtMTktOC40Yy0xMC42LTQuNi0yNS40LTkuOC0zMy0xMS42LTcuNi0xLjYtMTgtNS44LTIzLTlzLTE0LjItOC0yMC40LTEwLjhjLTE4LTgtNTkuNC00Ni4yLTY2LTYxLjItMi4yLTUtNy40LTE0LjQtMTEuNC0yMC44bC03LjItMTJWNTQ5bDcuNi0xMy42YzQuMi03LjQgOS40LTE4LjYgMTEuNi0yNC44IDMuOC0xMS40IDEzLjQtMjcuOCAyNC44LTQyLjYgMjAuMi0yNi4yIDM4LjQtNDYuOCA1My02MCA5LjItOC4yIDIxLTE4LjYgMjYtMjMuMiA1LTQuNCAxMy4yLTExIDE4LjYtMTQuNiA1LjItMy40IDkuNC03LjIgOS40LTggMC0xIDUuNi00LjYgMTIuNi04LjIgNi44LTMuOCAxNi40LTkuNiAyMS40LTEzLjIgNS0zLjYgMTQuNC04IDIxLTkuOCA2LjYtMiAxNy44LTYuNiAyNS0xMC4yIDEyLTYuMiAxNC40LTYuOCAzMi40LTYuOGgxOS40bDEyLjQgOS42em0yMDMuNiAxMy4yYzMgMS42IDYuNiA0LjQgOCA2IDEuNiAxLjggOS40IDcgMTcuNCAxMS42IDE3IDkuNiAxOSAxMyAyNCA0MiAzLjQgMjAuNCAyLjYgMzIuMi0zLjQgNDMuOC03LjYgMTUuMi0yMi44IDIwLjYtMzEuMiAxMS4yLTctNy42LTkuMi0xMy44LTEwLjYtMjkuNi0xLjItMTMuMi0yLjQtMTYuNC05LjYtMjcuMi0xMS0xNi0xNi44LTIwLjYtMjcuMi0yMC42LTEwIDAtMjQtNi4yLTI3LTExLjYtNS44LTEwLjguNC0yNC42IDEyLjQtMjguNCA4LjYtMi42IDQwLjItLjggNDcuMiAyLjh6Ii8+PHBhdGggZD0iTTQyNCA0NzcuNGMtMzIuNiAzLjYtNDcuOCA3LTYxLjggMTMuOC04IDQtMTkgOC40LTI0LjIgMTAtNS4yIDEuNi0xMi40IDUtMTYuMiA3LjgtMy44IDIuNi0xMSA3LjYtMTYuMiAxMS0xMy40IDguOC0zNSAzMy4yLTM4LjggNDQtMS44IDUtNS40IDE0LjQtOC4yIDIxLTguOCAyMS4yLTguMiAyNi44IDQgNTMgMTAuNiAyMi42IDExIDIzLjIgMjcuNiAzNi40IDIxIDE2LjggMjMuNiAxOC40IDUwLjggMjguMiAyMC4yIDcuMiAyNC42IDggNTQgMTAgMTcuNiAxLjIgNDUuNiAyLjIgNjIgMi4ybDMwIC4yIDE3LjQtOC40YzkuNi00LjYgMjIuNC05LjYgMjguMi0xMS40IDYtMS44IDE1LjQtNi4yIDIwLjgtMTAgNS40LTMuNiAxMy40LTguNiAxNy42LTEwLjggOS4yLTQuNiAzOS0zNC40IDM5LTM5IDAtMS42IDMuOC0xMC4yIDguNC0xOC44IDcuOC0xNC4yIDguNi0xNi44IDguNC0yOS42LS4yLTEyLjgtMS0xNS44LTEwLjYtMzQuNi0xMy40LTI2LjItMzAuNC00My42LTUwLjItNTEuNC03LjItMi44LTE2LjItNy0yMC05LjYtMTEuNC03LjYtMTcuNi05LjItNDguOC0xMi40LTI3LjYtMi44LTU2LjYtMy40LTczLjItMS42em0zOS40IDQ0LjRjMTEuMiAyLjIgMjIuNiA1IDI1IDYuNCA3IDMuNiAyNiAyMS44IDMwLjggMjkuNCA4LjYgMTMuNCAxMSA1NCA0LjYgNzctMi42IDkuNi0xOC44IDI3LjYtMzkuNCA0NC4yLTE1LjYgMTIuNC0xNyAxMy0yOS44IDE0LTcuNi44LTIyLjQgMi4yLTMzIDMuNi0yMi42IDIuNi00NS42IDEtNTMuOC0zLjgtMy4yLTItOC02LjgtMTAuOC0xMC44LTIuNi00LjItOC40LTEwLjQtMTIuOC0xMy44LTguMi02LjgtMTMuNC0xNi40LTE5LjQtMzctMy44LTEzLjItMi44LTIxLjggNS4yLTQ3LjYgMy4yLTEwLjQgNi0xNC42IDE3LjQtMjUuOCAxMi40LTEyLjIgMjMuOC0yMi4yIDMzLjItMjkuNiA0LTMgMzguNi05LjQgNTMuNC05LjggNSAwIDE4LjIgMS42IDI5LjQgMy42eiIvPjxwYXRoIGQ9Ik0zODcuMiA2MDZjLTEyLjIgMy44LTE4LjIgMTMuNC0xNSAyNC42IDUuOCAyMS4yIDI3LjggMjUuOCA0MC42IDguNiA2LjYtOC44IDcuOC0xNi4yIDQuMi0yNC00LjgtMTAuMi0xNS40LTEzLjQtMjkuOC05LjJ6Ii8+PC9zdmc+);
    }
    
    
    
    
    .footer-sns-github {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzguNCA3OGMtNi40IDEuNC0yNi40IDE0LjItMzYgMjIuOC04IDcuMi0yMiAyOS44LTI0LjQgMzkuMi0xLjYgNi40LTIgMTEzLjItMS42IDM2OCAuNiAyOTkuNCAxIDM1OS44IDMuNCAzNjQgMTEgMjAuMiAyMS42IDMyLjQgMzcuMiA0MyAxNS42IDEwLjYgMTcuMiAxMS4yIDM0LjIgMTMuMiAxMC42IDEuMiA2My40IDEuNiAxMjcuNiAxLjRsMTA5LjYtLjYgNi02LjggNi4yLTYuOC0xLjItMjUuMmMtLjgtMTUuOC0uMi0zMy40IDEuNC00Ny4yIDMtMjUuNCAxLjQtMzYuMi02LTQzLjItNS00LjYtNi4yLTQuOC0zMC42LTQuMi0yNy42LjgtMjQgMS42LTY4LjgtMTYtOC42LTMuNC0yMi42LTE4LTI4LjQtMjkuOC0xMS40LTIyLjgtMjctNDUtMzkuMi01NS42LTE0LTEyLjItMTkuOC0yMC44LTE5LjgtMjguNiAwLTExLjYgMTMuNi0xMi42IDMzLjItMi40IDE2LjYgOC44IDIwLjggMTIuNCA0MC44IDM2LjIgMjQuMiAyOC42IDMxIDMzLjYgNTQgMzkuNiAxNS4yIDQgNDIuMiAzIDUxLjQtMS44IDktNC42IDE4LTE1LjIgMjQuNC0yOS4yIDExLjQtMjQuMiA3LjQtMzEuMi0yMC42LTM2LjgtOS44LTItMjkuMi04LTQzLjQtMTMuNC00MC40LTE1LjgtNjQuNi0zNy40LTg1LjQtNzYuMi0xMS42LTIxLjgtMTUuNC0zMy0xOC4yLTUzLjYtNC4yLTMyLjItNC44LTYwLjItMS40LTg0IDMuNC0yMy44IDYuOC0zMi44IDIwLjItNTQgNC02IDguOC0xNS42IDExLTIxLjQgMy44LTEwIDMuOC0xMS42IDEtMzAtNS4yLTM0LjItMy4yLTUyLjQgNy42LTcwLjIgNy4yLTEyLjIgMTUtMTcuMiAyNC4yLTE1LjggMTIuOCAyLjIgNTIgMTcuNCA2Ni44IDI2LjIgMjYgMTUgMjkgMTUuNCA4Mi40IDcuMiAyNC42LTMuOCAzMy44LTQuMiA2MC0zLjIgMTcgLjYgNDEuNCAzIDU0IDUuMiAzOC40IDYuNiA0OS42IDUuMiA3My0xMCA2LjYtNC4yIDE3LjQtOS40IDI0LTExLjYgNi42LTIuMiAxNi01LjggMjEtOC4yIDEzLTYgMjgtNS42IDM1LjYuOCAxMi40IDEwLjQgMTguNiA0MS40IDE0LjQgNzEuNi00LjQgMzAuNi0zIDM5LjQgOC40IDUzLjggMy40IDQuNCAxMS4yIDE5LjIgMTcuNCAzMy4yTDc3NSA0NDN2NzhsLTEwIDI4Yy0xNS4yIDQzLjItMzYuOCA3My4yLTY2LjIgOTIuOC0xMy40IDguOC01NyAyNS40LTc2LjggMjktMjguMiA1LjItMzMuMiAxMi42LTIyIDMyLjIgMTEuMiAxOS40IDEyLjQgMzIuOCAxMS42IDEyOS42bC0uNiA4NS44IDUuNCA0LjZjMy42IDMgOS4yIDUuMiAxNiA2IDUuOC44IDYwLjIgMSAxMjAuNi42IDEwOC40LS42IDExMC4yLS42IDExOS01IDI0LTExLjYgNDAtMjcuNCA1MS42LTUwLjZsNS40LTExIC42LTM0N2MuNC0yMjMtLjItMzUzLjQtMS40LTM2NS0yLTE3LTIuNi0xOC42LTEzLTM0LTEwLjYtMTUuNC0yMi44LTI2LjItNDMuMi0zNy4yLTQuMi0yLjQtNjQuNi0yLjgtMzY2LTMuMi0xOTguNiAwLTM2NCAuNC0zNjcuNiAxLjR6Ii8+PC9zdmc+);
    }
    
    
    
    .footer-sns-zhihu {
        background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0OCIgaGVpZ2h0PSI0OCIgY2xhc3M9Imljb24iIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiPjxwYXRoIGQ9Ik0xMzYuOCA3OC44Yy04LjYgMi44LTI0IDEyLjQtMzMuNiAyMS04LjYgNy44LTIxLjQgMjcuOC0yNC40IDM3LjgtNC4yIDE0LTQgNzIzLjQgMCA3MzMuNCA4LjYgMjAuNiAzNi44IDQ4LjYgNTYgNTUuNiA5IDMuNCA3NDcuNCAzLjQgNzU2LjQgMCAxOS44LTcuMiA0OS0zNi42IDU2LTU2LjIgMi4yLTYgMi42LTc1LjYgMi44LTM2Ni40IDAtMjMzLjgtLjYtMzYxLjQtMi0zNjYtMS4yLTMuOC02LjYtMTMuOC0xMi4yLTIyLjItOC4yLTEyLjItMTMuNC0xNy40LTI1LjgtMjUuNi04LjQtNS44LTE5LTExLjQtMjMuMi0xMi4yLTQuNi0xLjItMTYzLjItMS44LTM3NC44LTEuOC0yOTMgMC0zNjguNi42LTM3NS4yIDIuNnptMTkwIDE0NS42YzUuNCA3LjYgNCAxNy40LTQuOCAzMS42LTkuOCAxNi0xMC44IDI3LjQtMyAzNSAyLjYgMi44IDYuNCA1IDguNCA1czM3LjguNCA3OS42LjZjNjggLjQgNzYuNi44IDgyLjQgMy44IDkuMiA1IDEyLjYgMTEgMTIuNiAyMiAwIDctMS4yIDEwLjgtNC44IDE1bC00LjggNS40LTM4IC4yYy01My44IDAtNTMuOCAwLTU1LjQgNTEuMi0uNiAxOC0xLjYgNDIuOC0yLjIgNTUtMS4yIDIyLjguNiAzMS42IDcuNiAzNi4yIDEuNC44IDIyLjIgMiA0NiAyLjZsNDMuMiAxIDguOCA2YzE1LjQgMTAuOCAxNy44IDI5LjIgNSAzNy01LjggMy42LTEwLjIgNC01MS44IDQtMzEgMC00NyAuOC01MC42IDIuNC03IDMuMi0xNC4yIDE3LjYtMTcuMiAzNC40LTMuMiAxNi42LTEgMjEuOCA5LjYgMjUuMiAxMy40IDQuMiAyMS44IDExLjIgNDkgNDEuNCAzNSAzOC44IDM2LjYgNDEgNDEuOCA1OC44IDcgMjMuOCAyLjIgNDEuOC0xMS40IDQxLjgtNy42IDAtMTItMy0yMS0xNC42LTEzLjgtMTcuNC01NC40LTY1LjgtNjItNzMuOC0xNS4yLTE2LTI5LjQtNS44LTM4LjggMjcuNC0xLjggNi42LTguOCAyMy4yLTE1LjYgMzctMTAuOCAyMi0xNCAyNi44LTI3LjQgMzkuNi0xOS42IDE5LjItMjYuNCAyMy01My42IDI5LjYtMjcuMiA2LjQtMzcgNS42LTM4LTMuNi0xLTguNCA0LjQtMTYuNCAyMC0yOSAxNi0xMyAzNi44LTM2LjYgNDUuMi01MS40IDMtNS4yIDguMi0xMy44IDExLjYtMTkgMy40LTUgMTEuOC0yMC40IDE4LjYtMzQuMiAxMC0yMCAxMy42LTI5LjQgMTcuMi00NyAyLjYtMTIuMiA2LjItMjUuNCA3LjgtMjkuNCA0LTkuNCA0LTIxLjQuMi0yNy01LjItNy40LTE2LTguOC02Mi42LTguNC01MC40LjQtNTUuMi0uOC01Ny42LTEzLjItMS44LTEwLjQgNS44LTI0LjQgMTYuMi0yOS44IDcuNC0zLjggMTEuOC00LjIgNTYuMi00LjhsNDguNC0uOCA0LjYtNWM0LjgtNSA0LjgtNSA1LTYxLjYgMC0zNS4yLS44LTU5LjItMi02My4yLTMuOC0xMS4yLTExLTE0LjgtMzAuMi0xNC44cy0yMS40IDEuNC0zMS4yIDE4LjJjLTguMiAxNC40LTIwLjYgMjguOC0zMy4yIDM4LjgtMTMuMiAxMC40LTIxLjYgMTMtMjggOS04LjQtNS42LTUuMi0yMy4yIDguMi00My4yIDQtNi40IDkuMi0xOC42IDEyLjItMjkuNiAzLTEwLjIgNy40LTIzLjIgMTAtMjkgMi40LTUuNiA2LTE2LjggOC0yNC42IDUuNi0yMy42IDI0LTUwLjggMzkuNC01OC40IDExLjItNS40IDE4LjYtNS40IDIyLjQuMnptNDUyIDY4LjJjMTEuOCA3LjggMTEuNC0uOCAxMC44IDIxNi0uNiAxODEtLjggMTk4LjgtNCAyMDMtNy42IDEwLjgtOS44IDExLjQtNTMuNiAxMi40bC00MSAxLTE0IDcuOGMtNy42IDQuMi0yMS4yIDEzLTI5LjggMTkuNC0yNS44IDE5LjItMzUgMTkuOC00My40IDMuMi0xMS44LTIzLjItMjMuNi0zMy4yLTM5LjQtMzMuNC04LjggMC0xMy42LTIuOC0xNy4yLTkuOC0yLjYtNC44LTMtMzMuOC0yLjYtMjA4LjguNC0xOTkuOC40LTIwMyA0LjQtMjA3LjQgMi4yLTIuNCA1LjgtNS4yIDgtNi4yIDIuMi0uOCA1MS44LTEuNCAxMTAtMS4yIDk5IC40IDEwNi42LjYgMTExLjggNHoiLz48cGF0aCBkPSJNNjA2LjggMzM3LjRjLTIuNC40LTYuNCAzLTkgNS44bC00LjggNS4yLS42IDE1Ni40LS40IDE1Ni40IDYuNCA5LjRjMy42IDUuMiA5LjggMTUuMiAxMy42IDIxLjggOCAxNC4yIDE2LjggMjAuNiAyNS42IDE4LjYgMy4yLS42IDEzLjgtNyAyMy42LTE0LjIgMjMtMTcgMjcuOC0xOSA1MC4yLTIwLjIgMTYuNC0xIDE5LjItMS44IDIzLjYtNi4yIDIuOC0yLjggNS02LjQgNS4yLTguMlY1MDUuNmMwLTExNi0uNi0xNTQuNC0yLjYtMTU4LjYtNC44LTEwLjQtOC40LTExLTcwLTEwLjgtMzEuMi4yLTU4LjYuOC02MC44IDEuMnoiLz48L3N2Zz4=);
    }
    
    
    
</style>

        
        <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
        background: url('http://pic1.win4000.com/wallpaper/8/57eb321e26127.jpg') no-repeat 100%;
        background-attachment: fixed;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->

    <link href="https://fonts.proxy.ustclug.org/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.proxy.ustclug.org/icon?family=Material+Icons"rel="stylesheet">


        <script>lsloader.load("js/jquery.min.js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==")</script>
    
    
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Analytics -->
    

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    
    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#遇到的挑战"><span class="post-toc-number">1.</span> <span class="post-toc-text">遇到的挑战</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#下载速度"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">下载速度</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#多普勒测速数据参考"><span class="post-toc-number">1.1.1.</span> <span class="post-toc-text">多普勒测速数据参考</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#用户体验"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">用户体验</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#分析原因"><span class="post-toc-number">2.</span> <span class="post-toc-text">分析原因</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#事件差异"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">事件差异</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#PC"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">PC</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#iOS"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">iOS</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Android"><span class="post-toc-number">2.1.3.</span> <span class="post-toc-text">Android</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#一些常用且需要重点关注的-lt-video-gt-事件"><span class="post-toc-number">2.1.4.</span> <span class="post-toc-text">一些常用且需要重点关注的&lt;video&gt;事件</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#属性差异"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">属性差异</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#其他怪异bug和不友好表现"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">其他怪异bug和不友好表现</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#最佳实践"><span class="post-toc-number">3.</span> <span class="post-toc-text">最佳实践</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#视频初始化"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">视频初始化</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#自动播放"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">自动播放</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#点击播放"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">点击播放</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#iOS6"><span class="post-toc-number">3.3.1.</span> <span class="post-toc-text">iOS6+</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#iOS-lt-6"><span class="post-toc-number">3.3.2.</span> <span class="post-toc-text">iOS &lt; 6</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Android-1"><span class="post-toc-number">3.3.3.</span> <span class="post-toc-text">Android</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#循环播放"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">循环播放</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#监控下载进度"><span class="post-toc-number">3.5.</span> <span class="post-toc-text">监控下载进度</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#全部下载后再播放"><span class="post-toc-number">3.6.</span> <span class="post-toc-text">全部下载后再播放</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#统计播放时间和播放次数"><span class="post-toc-number">3.7.</span> <span class="post-toc-text">统计播放时间和播放次数</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#异常处理"><span class="post-toc-number">3.8.</span> <span class="post-toc-text">异常处理</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参考数据"><span class="post-toc-number">4.</span> <span class="post-toc-text">参考数据</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#参考资料"><span class="post-toc-number">5.</span> <span class="post-toc-text">参考资料</span></a></li></ol>
        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>
    





<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div id="main_article" class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                移动端video视频播放优化实践
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="http://image.awebman.cn/pic2016051107.jpg" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>AppleSun</strong>
        <span>8月 08, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" title="标签">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/html5/">html5</a>
    </ul>
    

    <!-- Share -->
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h2 id="遇到的挑战"><a href="#遇到的挑战" class="headerlink" title="遇到的挑战"></a>遇到的挑战</h2><p>移动端HTML5使用原生<strong>&lt;video&gt;</strong>标签播放视频，要做到两个基本原则，速度快和体验佳，先来分析一下这两个问题。</p>
<h3 id="下载速度"><a href="#下载速度" class="headerlink" title="下载速度"></a>下载速度</h3><p>以一个8s短视频为例，wifi环境下提供的高清视频达到1000kbps，文件大小大约1MB；非wifi环境下提供的低码率视频是500kbps左右，文件大小大约500KB；参考QzoneTouch多普勒测速，2g网络的平均速度是14KB/s，那么下载一个低码率视频耗时35s；那么要想流畅播放视频，就需要一个加载等待的过程，这个过程要有明确的反馈，不能让用户有“坏掉了”的感觉。</p>
<a id="more"></a>
<h4 id="多普勒测速数据参考"><a href="#多普勒测速数据参考" class="headerlink" title="多普勒测速数据参考"></a>多普勒测速数据参考</h4><table>
<thead>
<tr>
<th>#</th>
<th>dns(s)</th>
<th>conn(s)</th>
<th>rtt(s)</th>
<th>tran(kb/s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>2g</td>
<td>3.85785</td>
<td>2.33482</td>
<td>2.57478</td>
<td>14.0374</td>
</tr>
<tr>
<td>3g</td>
<td>1.60643</td>
<td>0.743109</td>
<td>0.608047</td>
<td>60.1967</td>
</tr>
<tr>
<td>wifi</td>
<td>0.986921</td>
<td>0.550208</td>
<td>0.444332</td>
<td>70.8728</td>
</tr>
</tbody>
</table>
<h3 id="用户体验"><a href="#用户体验" class="headerlink" title="用户体验"></a>用户体验</h3><p>视频是否可以自动播放，是否能循环播放，是否能显示下载进度，播放的时候如何隐藏控制条，暂停的时候又能显示出来呢。这些问题看上去貌似简单，但是由于PC/iOS/Android这些不同平台、不同的浏览器内核、甚至相同内核的不同版本，所实现的&lt;video&gt;属性、方法和事件差异较大，解决兼容性问题又给开发造成了很大困扰。</p>
<h2 id="分析原因"><a href="#分析原因" class="headerlink" title="分析原因"></a>分析原因</h2><h3 id="事件差异"><a href="#事件差异" class="headerlink" title="事件差异"></a>事件差异</h3><p>下面是播放一个短视频，在不同平台触发事件和获取属性的差异表现。</p>
<h4 id="PC"><a href="#PC" class="headerlink" title="PC"></a>PC</h4><table>
<thead>
<tr>
<th>#</th>
<th>event</th>
<th>readyState</th>
<th>currentTime (s)</th>
<th>buffered (s)</th>
<th>duration (s)</th>
<th>视频状态</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>loadstart</td>
<td>NOTHING</td>
<td>0</td>
<td>–</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>2</td>
<td>suspend</td>
<td>NOTHING</td>
<td>0</td>
<td>–</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>3</td>
<td>play</td>
<td>NOTHING</td>
<td>0</td>
<td>–</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>4</td>
<td>waiting</td>
<td>NOTHING</td>
<td>0</td>
<td>–</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>5</td>
<td>durationchange</td>
<td>METADATA</td>
<td>0</td>
<td>5.35</td>
<td>7.91</td>
<td>获取到视频长度</td>
</tr>
<tr>
<td>6</td>
<td>loadedmetadata</td>
<td>METADATA</td>
<td>0</td>
<td>0.66</td>
<td>7.91</td>
<td>获取到元数据</td>
</tr>
<tr>
<td>7</td>
<td>loadeddata</td>
<td>ENOUGHDATA</td>
<td>0</td>
<td>0.66</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>8</td>
<td>canplay</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>0.66</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>9</td>
<td>playing</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>0.66</td>
<td>7.91</td>
<td>开始播放</td>
</tr>
<tr>
<td>10</td>
<td>canplaythrough</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>0.66</td>
<td>7.91</td>
<td>可以流畅播放</td>
</tr>
<tr>
<td>11</td>
<td>progress</td>
<td>ENOUGH_DATA</td>
<td>0.11</td>
<td>3.68</td>
<td>7.91</td>
<td>持续下载</td>
</tr>
<tr>
<td>12</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0.14</td>
<td>4.44</td>
<td>7.91</td>
<td>播放进度变化</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>23</td>
<td>progress</td>
<td>ENOUGH_DATA</td>
<td>1.77</td>
<td>7.91</td>
<td>7.91</td>
<td>下载完毕</td>
</tr>
<tr>
<td>24</td>
<td>suspend</td>
<td>ENOUGH_DATA</td>
<td>1.77</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>25</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>1.9</td>
<td>7.91</td>
<td>7.91</td>
<td>继续播放中</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>48</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>7.7</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>49</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>50</td>
<td>seeking</td>
<td>METADATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>51</td>
<td>waiting</td>
<td>METADATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>52</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>53</td>
<td>seeked</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>播放完毕进度回到起点</td>
</tr>
<tr>
<td>54</td>
<td>canplay</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>55</td>
<td>playing</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>循环播放</td>
</tr>
<tr>
<td>56</td>
<td>canplaythrough</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>57</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0.19</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<h4 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h4><table>
<thead>
<tr>
<th>#</th>
<th>event</th>
<th>readyState</th>
<th>currentTime (s)</th>
<th>buffered (s)</th>
<th>duration (s)</th>
<th>视频状态</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>loadstart</td>
<td>NOTHING</td>
<td>0</td>
<td>–</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>2</td>
<td>play</td>
<td>NOTHING</td>
<td>0</td>
<td>–</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>3</td>
<td>waiting</td>
<td>NOTHING</td>
<td>0</td>
<td>–</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>4</td>
<td>durationchange</td>
<td>METADATA</td>
<td>0</td>
<td>–</td>
<td>7.91</td>
<td>获取到视频长度</td>
</tr>
<tr>
<td>5</td>
<td>loadedmetadata</td>
<td>METADATA</td>
<td>0</td>
<td>–</td>
<td>7.91</td>
<td>获取到元数据</td>
</tr>
<tr>
<td>6</td>
<td>loadeddata</td>
<td>ENOUGHDATA</td>
<td>0</td>
<td>–</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>7</td>
<td>canplay</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>8</td>
<td>canplaythrough</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>可以流畅播放</td>
</tr>
<tr>
<td>9</td>
<td>playing</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>开始播放</td>
</tr>
<tr>
<td>10</td>
<td>progress</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>下载完毕</td>
</tr>
<tr>
<td>11</td>
<td>suspend</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>12</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0.02</td>
<td>7.91</td>
<td>7.91</td>
<td>播放进度变化</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>43</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>7.8</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>44</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>45</td>
<td>seeked</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>播放完毕进度回到起点</td>
</tr>
<tr>
<td>46</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0.22</td>
<td>7.91</td>
<td>7.91</td>
<td>循环播放</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
</tbody>
</table>
<h4 id="Android"><a href="#Android" class="headerlink" title="Android"></a>Android</h4><table>
<thead>
<tr>
<th>#</th>
<th>event</th>
<th>readyState</th>
<th>currentTime (s)</th>
<th>buffered (s)</th>
<th>duration (s)</th>
<th>视频状态</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>loadstart</td>
<td>NOTHING</td>
<td>0</td>
<td>–</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>2</td>
<td>play</td>
<td>NOTHING</td>
<td>0</td>
<td>–</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>3</td>
<td>waiting</td>
<td>NOTHING</td>
<td>0</td>
<td>0</td>
<td>–</td>
<td>–</td>
</tr>
<tr>
<td>4</td>
<td>durationchange</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>–</td>
</tr>
<tr>
<td>5</td>
<td>durationchange</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>0</td>
<td>7.91</td>
<td>获取到视频长度</td>
</tr>
<tr>
<td>6</td>
<td>loadedmetadata</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>0</td>
<td>7.91</td>
<td>获取到元数据</td>
</tr>
<tr>
<td>7</td>
<td>loadeddata</td>
<td>ENOUGHDATA</td>
<td>0</td>
<td>0</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>8</td>
<td>canplay</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>0</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>9</td>
<td>canplaythrough</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>0</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>10</td>
<td>playing</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>0</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>11</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>0</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>12</td>
<td>progress</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>3.57</td>
<td>7.91</td>
<td>下载中</td>
</tr>
<tr>
<td>13</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0.2</td>
<td>6.89</td>
<td>7.91</td>
<td>开始播放</td>
</tr>
<tr>
<td>14</td>
<td>progress</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>下载完毕</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
<td>…</td>
</tr>
<tr>
<td>49</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>7.79</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>50</td>
<td>progress</td>
<td>ENOUGH_DATA</td>
<td>7.87</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>51</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>52</td>
<td>seeking</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>播放完毕进度回到起点</td>
</tr>
<tr>
<td>53</td>
<td>timeupdate</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>54</td>
<td>seeked</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>循环播放失败卡住了</td>
</tr>
<tr>
<td>55</td>
<td>progress</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
<tr>
<td>56</td>
<td>stalled</td>
<td>ENOUGH_DATA</td>
<td>0</td>
<td>7.91</td>
<td>7.91</td>
<td>–</td>
</tr>
</tbody>
</table>
<h4 id="一些常用且需要重点关注的-lt-video-gt-事件"><a href="#一些常用且需要重点关注的-lt-video-gt-事件" class="headerlink" title="一些常用且需要重点关注的&lt;video&gt;事件"></a>一些常用且需要重点关注的&lt;video&gt;事件</h4><table>
<thead>
<tr>
<th>event</th>
<th>iOS</th>
<th>Android</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><strong><strong><strong>**</strong></strong></strong></strong></td>
<td><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></td>
<td><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></td>
</tr>
<tr>
<td>play</td>
<td>只是要播放视频，响应的是video.play()方法，并不代表已经开始播放</td>
<td>和iOS一样，仅是响应video.play()方法</td>
</tr>
<tr>
<td>durationchange</td>
<td>会执行一次，一定会获取到视频的duration</td>
<td>可能会执行多次，只有最后一次才能获取到真实的duration，前面的duration都是0；但低版本Android可能获取到的duration是0或1；（本文提到的低版本Android大部分是4.1以下）</td>
</tr>
<tr>
<td>canplay</td>
<td>可以认为是视频元素没有问题，可以运行，没有更多含义了，基本用不上</td>
<td>同iOS</td>
</tr>
<tr>
<td>canplaythrough</td>
<td>会有明确的缓冲，表示可以流畅播放了；</td>
<td>没有什么用，视频仍然会卡住，数据可能还没有开始加载；</td>
</tr>
<tr>
<td>playing</td>
<td>明确表示播放开始了；</td>
<td>依然没有用，视频可能并没有开始播放；</td>
</tr>
<tr>
<td>progress</td>
<td>有明确的下载，可以获取到当前的buffer，并且全部下载完毕后不在触发；</td>
<td>不一定有明确的数据下载，并且全部下载完毕后依然继续触发；</td>
</tr>
<tr>
<td>timeupdate</td>
<td>会有明确的进度变化，可以获取到currentTime；</td>
<td>进度不一定变化，currentTime可能总是0，但是第一次有currentTime变化的timeupdate事件一定代表了视频开始播放了；</td>
</tr>
<tr>
<td>error</td>
<td>iOS中会有明确的错误抛出；</td>
<td>Android中某些浏览器会莫名其妙的抛出error；</td>
</tr>
<tr>
<td>stalled</td>
<td>网络状况不佳，导致视频下载中断；</td>
<td>在没有play之前，也可能会抛出该事件。</td>
</tr>
</tbody>
</table>
<h3 id="属性差异"><a href="#属性差异" class="headerlink" title="属性差异"></a>属性差异</h3><table>
<thead>
<tr>
<th>attributes</th>
<th>iOS</th>
<th>android</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><strong><strong><strong>**</strong></strong></strong></strong></td>
<td><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></td>
<td><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>***</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></td>
</tr>
<tr>
<td>poster 封面图片</td>
<td>支持，但是加载速度明显比在&lt;img&gt;中要慢；</td>
<td>不一定支持（浏览器厂商的实现标准不统一）；</td>
</tr>
<tr>
<td>preload 预加载</td>
<td>iPhone不支持；</td>
<td>可能支持；</td>
</tr>
<tr>
<td>autoplay 自动播放</td>
<td>iPhone Safari中不支持，但在webview中可能被开启；iOS开发文档明确说明蜂窝网络下不允许autoplay；</td>
<td>可能支持；</td>
</tr>
<tr>
<td>loop 循环播放</td>
<td>支持</td>
<td>可能支持；</td>
</tr>
<tr>
<td>controls 控制条</td>
<td>支持，但是需要开始播放了才显示</td>
<td>基本都支持显示或者不显示</td>
</tr>
<tr>
<td>width和height</td>
<td>一定给出明确的属性设置，切不能为0；</td>
<td>如果不设置，仅仅通过CSS样式去控制视频大小，可能会导致标签失效。</td>
</tr>
</tbody>
</table>
<h3 id="其他怪异bug和不友好表现"><a href="#其他怪异bug和不友好表现" class="headerlink" title="其他怪异bug和不友好表现"></a>其他怪异bug和不友好表现</h3><table>
<thead>
<tr>
<th>iOS</th>
<th>android</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></td>
<td><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>*</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></td>
</tr>
<tr>
<td>物理位置覆盖在&lt;video&gt;区域上的元素，click和touch等事件会失效，比如一个<a>链接如果覆盖在&lt;video&gt;上，那么点击后没有任何效果。</a></td>
<td>–</td>
</tr>
<tr>
<td>iOS8.0+中，单页面播放视频超过16个，再播放的视频全部MediaError解码异常无法播放。</td>
<td>–</td>
</tr>
<tr>
<td>iPhone的Safari会弹出一个全屏的播放器来播放视频，iPad则支持内联播放。iOS7+ 如果webview（比如微信）开启了<code>webview.allowsInlineMediaPlayback = YES;</code>，可以通过设置<code>webkit-playsinline</code>属性支持内联播放；</td>
<td>支持内联播放，但某些厂商会用自己的播放器劫持原生的视频播放；</td>
</tr>
<tr>
<td>下载视频时，会先发送一个2字节的请求来获取视频元数据（比如时长），然后再不断的发送分包续传（206）请求来下载视频，抓包显示请求数和请求量至少有一倍的冗余（x2），这个严重的bug在iOS8中有明显的修复，但是分包的206请求仍然会有冗余数据的下载，浪费了流量。</td>
<td>比iOS的处理方式好，没有第一个2字节请求，没有流量损耗；</td>
</tr>
<tr>
<td>–</td>
<td>低版本Android（&lt;=4.0.4）中，&lt;video&gt;如果在有相对和决定定位的层中，可能会导致整个页面错位。</td>
</tr>
<tr>
<td>–</td>
<td>某些浏览器厂商会劫持&lt;video&gt;，用其“自己”的播放器来播放视频，“破坏”了产品本身的播放体验，那么只能case by case的解决了。</td>
</tr>
<tr>
<td>加载视频时没有进度提示，视觉上看不出是播放完了还是卡住了；</td>
<td>加载视频时，大都会显示一个自带的loading UI（菊花）。</td>
</tr>
</tbody>
</table>
<h2 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h2><h3 id="视频初始化"><a href="#视频初始化" class="headerlink" title="视频初始化"></a>视频初始化</h3><p>如果将一个&lt;video&gt;直接显示在页面中，那么就会看到各种五花八门的播放器初始效果；</p>
<p><img src="http://image.awebman.cn/pic2018080801.jpg" alt=""></p>
<p>这显然不是一个好的视觉体验，那么通常的做法是制作一个模拟的视频播放视图，比如一个封面加一个播放按钮。</p>
<p>而真实的&lt;video&gt;视频元素要隐藏起来，如何隐藏呢？最好不要用<code>{display: none}</code>或者<code>{width:0;height:0;}</code>的方式，因为这样视频元素会处于未激活的状态，给后续的处理带来麻烦。最佳的方式是将视频设置成1×1像素大小，放在视觉边缘的位置。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--iOS--&gt;</span><br><span class="line">&lt;video webkit-playsinline width=&quot;1&quot; height=&quot;1&quot; class=&quot;vplayinside notaplink&quot; x-webkit-airplay controls loop=&quot;loop&quot; src=&quot;&lt;%=src%&gt;&quot;&gt;&lt;/video&gt; </span><br><span class="line">&lt;!--Android--&gt;</span><br><span class="line">&lt;video width=&quot;1&quot; height=&quot;1&quot; controls loop=&quot;loop&quot; src=&quot;&lt;%=src%&gt;&quot;&gt;&lt;/video&gt;</span><br></pre></td></tr></table></figure>
<h3 id="自动播放"><a href="#自动播放" class="headerlink" title="自动播放"></a>自动播放</h3><p>autoplay的支持依赖内核和网络状况，比如iPhone在蜂窝网络下明确禁用了autoplay；</p>
<p>经过试验，在没有明确的用户操作的情况下，直接通过<code>video.play()</code>也是无法激活播放的；</p>
<p>并且在产品设计上，自动播放也不是一个舒服的用户体验，所以产品设计上尽量避免使用自动播放。</p>
<h3 id="点击播放"><a href="#点击播放" class="headerlink" title="点击播放"></a>点击播放</h3><p>之前提到，视频最好通过1px大小隐藏起来，那么这时如何触发播放呢？</p>
<p>经过试验，当在明确的用户操作（touch、click）时，通过这些用户行为事件的回调函数，用<code>video.play()</code>是可以触发视频播放的，那么能否在用户操作后，再去同步的创建和播放视频呢？答案是肯定的，这无疑是一个视频元素初始化的最佳实践，但是有些差异需要注意。</p>
<h4 id="iOS6"><a href="#iOS6" class="headerlink" title="iOS6+"></a>iOS6+</h4><p>可以在用户的touch时间中动态创建并播放视频。</p>
<h4 id="iOS-lt-6"><a href="#iOS-lt-6" class="headerlink" title="iOS &lt; 6"></a>iOS &lt; 6</h4><p>可以在用户的touch时间中动态创建视频，但不能播放；要再追加一个click事件来启动播放；也就是说，给伪造的视频播放按钮同时绑定tap和click事件，在tap的时候创建，在之后300毫秒的click中去播放。</p>
<h4 id="Android-1"><a href="#Android-1" class="headerlink" title="Android"></a>Android</h4><p>大部分高版本Android可以像iOS6+那样去处理，但是低版本的不行，必须要通过click事件去传递<code>video.play()</code>，为了保持兼容，最好是用帮tap和click两个事件来分别完成视频的初始化和播放。</p>
<p>我们还发现，有些低版本Android中，无法通过<code>video.play()</code>来播放视频，必须有真实的用户点击视频元素才能播放；这种情况，有一个技巧就是在tap的时候初始化并放大视频覆盖在播放视图中，让300毫秒后的真实点击行为穿透点击在视频元素上来实现播放。</p>
<h3 id="循环播放"><a href="#循环播放" class="headerlink" title="循环播放"></a>循环播放</h3><p>如果视频需要循环播放，那么就增加<code>loop</code>属性，是否能循环播放就看浏览器是否支持了，因为还没有找到hack技巧来强制循环播放；</p>
<p>即使，在不支持循环播放的Android中，通过监听<code>seeked</code>事件知道了播放进度到了终点或起点暂停了，此时也无法通过<code>video.play()</code>来让视频重新播放。</p>
<h3 id="监控下载进度"><a href="#监控下载进度" class="headerlink" title="监控下载进度"></a>监控下载进度</h3><p>如何获取视频时长和已经下载的时长？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 视频时长</span><br><span class="line">var duration = video.duration</span><br><span class="line">// 获取视频已经下载的时长</span><br><span class="line">function getEnd(video) &#123;</span><br><span class="line">	var end = 0</span><br><span class="line">	try &#123;</span><br><span class="line">		end = video.buffered.end(0) || 0</span><br><span class="line">		end = parseInt(end * 1000 + 1) / 1000</span><br><span class="line">	&#125; catch(e) &#123;&#125;  </span><br><span class="line">	return end</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>progress事件表示视频在加载，但是它的触发频率和时机并不规律，最佳做法是通过一个定时器去实时获取end，当end &gt;= duration时，表示已经下载完毕，再终止定时器。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var timer = setInterval(function() &#123;</span><br><span class="line">	var end = getEnd(video),</span><br><span class="line">		duration = video.duration</span><br><span class="line">	if(end &lt; duration) &#123;return&#125;</span><br><span class="line">	clearInterval(timer)</span><br><span class="line">&#125;, 1000)</span><br></pre></td></tr></table></figure>
<h3 id="全部下载后再播放"><a href="#全部下载后再播放" class="headerlink" title="全部下载后再播放"></a>全部下载后再播放</h3><p>假设播放短视频，如果网络不佳，会造成播放断断续续，在iOS中这种停顿还没有一个明确的等待提示，这不是一个好的体验，那么是否可以将视频全部下载完毕再播放呢？</p>
<p>在iOS中，可以在视频刚开始下载的时候马上暂停，此时下载还将继续，可以做一个loading的菊花告知视频正在加载，然后等到视频全部下载完再开始播放。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$(video).one(&apos;loadeddata&apos;, function() &#123;</span><br><span class="line">	// 暂停，但下载还在继续  </span><br><span class="line">	video.pause()   </span><br><span class="line">	// 启动定时器检测视频下载进度  </span><br><span class="line">	var timer = setInterval(function() &#123;</span><br><span class="line">		var end = getEnd(video),</span><br><span class="line">			duration = video.duration</span><br><span class="line">		if(end &lt; duration) &#123;return&#125;</span><br><span class="line">		var width = $(video).parent().width()</span><br><span class="line">		// 下载完了，开始播放吧</span><br><span class="line">		$(video).attr&#123;width: width, height: width&#125;</span><br><span class="line">		video.play()</span><br><span class="line">		clearInterval(timer)</span><br><span class="line">	&#125;, 1000)&#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p> 缓冲播放——边下边播时，选择开始播放的最佳时间点</p>
<p>当视频越来越长或者网络慢时，等待视频全部下载完再播放也不是好的体验，最好能边下边播，缓冲到流畅状态就开始播放，那什么时候播放才是最佳时间点呢？</p>
<p>在iOS中，canplaythrough事件就是这个最佳时间点，它是通过动态计算缓冲量和下载速度得出的视频可以流畅播放的状态反馈。</p>
<blockquote>
<p>canplaythrough event: The user agent estimates that if playback were to be started now, the media resource could be rendered at the current playback rate all the way to its end without having to stop for further buffering.</p>
</blockquote>
<p>注意：下载完再播放和缓冲播放只适用于iOS。</p>
<h3 id="统计播放时间和播放次数"><a href="#统计播放时间和播放次数" class="headerlink" title="统计播放时间和播放次数"></a>统计播放时间和播放次数</h3><p>要统计实际的播放时间，要累加timeupdate事件变化的时间，再减去中间可能暂停的时间。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">$video.on(&apos;playing&apos;, function() &#123;</span><br><span class="line">	// 开始播放是打点</span><br><span class="line">	$video.attr(&apos;data-updateTime&apos;, +new Date())</span><br><span class="line">&#125;)</span><br><span class="line">$video.on(&apos;pause&apos;, function() &#123;</span><br><span class="line">    // 暂停播放时清除打点</span><br><span class="line">    $video.removeAttr(&apos;data-updateTime&apos;)&#125;)</span><br><span class="line">    // 累加播放时间</span><br><span class="line">    $video.on(&apos;timeupdate&apos;, function(event) &#123;</span><br><span class="line">        var $video = $(event.target),</span><br><span class="line">            updateTime = parseInt($video.attr(&apos;data-updateTime&apos;) || 0),      						playingTime = parseInt($video.attr(&apos;data-playingTime&apos;) || 0),</span><br><span class="line">            times = parseInt($video.attr(&apos;data-times&apos;) || 0),</span><br><span class="line">            newtimes = 0,</span><br><span class="line">            video = $video.get(0),</span><br><span class="line">            duration = parseFloat($video.attr(&apos;data-duration&apos;) || 0),</span><br><span class="line">            now = +new Date()   </span><br><span class="line">        // 播放时间  </span><br><span class="line">        playingTime = playingTime + now - updateTime</span><br><span class="line">        // 播放次数</span><br><span class="line">        newtimes = Math.ceil(playingTime / 1000 / duration)</span><br><span class="line">        $video.attr(&apos;data-playingTime&apos;, playingTime)</span><br><span class="line">        $video.attr(&apos;data-updateTime&apos;, now)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h3><p>对error事件做详细的上报；</p>
<p>对stalled事件做统计上报，并提示用户网络慢等。</p>
<h2 id="参考数据"><a href="#参考数据" class="headerlink" title="参考数据"></a>参考数据</h2><p>微视触屏版iOS视频测速</p>
<table>
<thead>
<tr>
<th>网络环境</th>
<th>视频码率</th>
<th>获取到视频时长 时间点(s)</th>
<th>开始流畅播放 时间点(s)</th>
<th>全部下载完毕 时间点(s)</th>
<th>视频长度(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td>wifi</td>
<td>1000kbps</td>
<td>2.86</td>
<td>3.97</td>
<td>5.85</td>
<td>8.69</td>
</tr>
<tr>
<td>非wifi</td>
<td>500kbps</td>
<td>4.56</td>
<td>8</td>
<td>10.62</td>
<td>8.67</td>
</tr>
</tbody>
</table>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ul>
<li>HTML5 Video Events and API检测工具 <a href="http://www.w3.org/2010/05/video/mediaevents.html" target="_blank" rel="noopener">http://www.w3.org/2010/05/video/mediaevents.html</a></li>
<li>W3C video 标准 <a href="http://www.w3.org/TR/html5/embedded-content-0.html#the-video-element" target="_blank" rel="noopener">http://www.w3.org/TR/html5/embedded-content-0.html#the-video-element</a></li>
<li>如何在iOS7+的webview中内联播放视频 <a href="http://darktalker.com/2014/play-video-inline-iphone-ios7" target="_blank" rel="noopener">http://darktalker.com/2014/play-video-inline-iphone-ios7</a></li>
<li>视频事件流水查看工具 <a href="http://z.weishi.qq.com/app/video.html" target="_blank" rel="noopener">http://z.weishi.qq.com/app/video.html</a></li>
</ul>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>
            <script>lsloader.load("js/html2canvas.min.js","/js/html2canvas.min.js?bnh3ambAY4wm0ftd49CxCg==")</script>
            <button id="save_img">保存为图片并分享</button>
            <style>
                #save_img {display: inline-block;line-height: 1;white-space: nowrap;cursor: pointer;background: #fff;border: 1px solid #dcdfe6;border-color: #dcdfe6;color: #606266;-webkit-appearance: none;text-align: center;box-sizing: border-box;outline: none;margin: 0;transition: .1s;font-weight: 500;-moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;padding: 12px 20px;font-size: 14px;border-radius: 6px;color: #fff;background-color: #409eff;border-color: #409eff;margin: 10px auto 0;}
                #save_img:hover {background: #66b1ff;border-color: #66b1ff;
                    color: #fff;}
            </style>
            <script>
                var save_img = document.getElementById('save_img');
                var main_article = document.getElementById('main_article');
                save_img.onclick = function () {
                    html2canvas(main_article, {
                        useCORS: true,
                        logging: false
                    }).then(function (canvas) {
                        var imgBlob = canvas.toDataURL();
                        downloadFile(decodeURI(location.pathname).split('/')[4], imgBlob)
                    })
                    function base64Img2Blob(code) {
                        var parts = code.split(';base64,');
                        var contentType = parts[0].split(':')[1];
                        var raw = window.atob(parts[1]);
                        var rawLength = raw.length;

                        var uInt8Array = new Uint8Array(rawLength);

                        for (var i = 0; i < rawLength; ++i) {
                            uInt8Array[i] = raw.charCodeAt(i);
                        }

                        return new Blob([uInt8Array], { type: contentType });
                    }
                    function downloadFile(fileName, content) {
                        var aLink = document.createElement('a');
                        var blob = base64Img2Blob(content);
                        var evt = document.createEvent("MouseEvents");
                        evt.initEvent("click", false, false);//initEvent 不加后两个参数在FF下会报错
                        aLink.download = fileName;
                        aLink.href = URL.createObjectURL(blob);
                        console.log()
                        aLink.dispatchEvent(evt);
                    }
                }
            </script>
            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2018/09/18/webstorm-破解/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            下一篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/08/07/前端一部分内容总结/" id="post_nav-older" class="next-content">
            上一篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="http://image.awebman.cn/pic2016051107.jpg" alt="AppleSun's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        If they can do it, so can you
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:1160948478@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
                <li>
                    <a href="https://github.com/CracKerMe" target="_blank" title="Github">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">phone</i>
                        
                        Github
                    </a>
                </li>
            
                <li>
                    <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=1160948478&amp;site=qq&amp;menu=yes" target="_blank" title="QQ">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">send</i>
                        
                        QQ
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/11/">十一月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/08/">八月 2018<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">18</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/05/">五月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/12/">十二月 2016<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">十一月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/10/">十月 2016<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">九月 2016<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">八月 2016<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">七月 2016<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">六月 2016<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">五月 2016<span class="sidebar_archives-count">6</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="关于我">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                关于我
            </a>
        </li>
        
    

    <!-- Article Number  -->
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->
<!--  -->

<!-- Theme Material -->
<!--  -->

<!-- Help & Support -->
<!--

-->

<!-- Feedback -->
<!--

-->

<!-- About Theme -->
<!--

-->
    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/DragonKnightLOL" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-twitter">
                <span class="visuallyhidden">Twitter</span>
            </button><!--
     --></a>
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    
        <a href="http://weibo.com/crackerme" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-weibo">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/CracKerMe" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    
        <a href="https://www.zhihu.com/people/awebman" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-zhihu">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
</div>


            <!--Copyright-->
            <div id="copyright">
                Copyright&nbsp;©
                
                            <script type="text/javascript">var fd = new Date(); document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>
                            爱尚|轻博客
            </div>

            <div class="mdl-mini-footer--right-section">
                <div>
                    <!-- <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div> -->
                </div>
            </div>
            
</footer>

                    <!-- Import File -->


    <script>lsloader.load("js/lazyload.min.js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==")</script>
    <script>lsloader.load("js/js.min.js","/js/js.min.js?oAl/+lvaqTFV31JXTmbrNA==")</script>



    <script>lsloader.load("js/nprogress.js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==")</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>



    
        <script>lsloader.load("js/smoothscroll.js","/js/smoothscroll.js?lOy/ACj5suSNi7ZVFVbpFQ==")</script>
    











<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Window Load-->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->

<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Bing Background -->


<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c 已找到工作了,针对博客有啥想交流的,联系QQ: 1160948478 \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
